procedure aroundBoxes(boxes) {
    repeat(boxes){
        if(frontIsObstacle){
            right
            forward(1)
            left
            forward(2)
            left
            forward(1)
            right
        } else{
            forward(1)
        }
    }
}

right
aroundBoxes(3)